---
import Experience from './Experience.astro'
import Title from '../../blocks/Title.astro'
import ExperienceSquare from './ExperienceSquare.astro'
const content = {
    experiences: {
        organizations: [
            { name: 'Startup', icon: 'startup' },
            // { name: 'Scale-up' },
            { name: 'Enterprise', icon: 'building' },
        ],
        roles: [
            {
                name: 'Team Lead',
            },
            {
                name: 'Director of Product',
            },
            { name: 'Sr. Director of Engineering' },
            { name: 'Architect' },
        ],
        industries: [
            { name: 'FinTech' },
            { name: 'EdTech' },
            { name: 'Aerospace' },
        ],
    },
}
---

<div
    class="col-span-12 flex flex-col md:col-[span_6/-1] lg:col-[span_6/-1] row-span-1 shadow-border"
>
    <div class="px-2 py-2 space-y-4">
        <Title icon="building" text="Work Experience" url="/background" />

        <div
            class="w-full flex flex-row flex-wrap gap-3 justify-between align-middle"
        >
            <div
                class="flex flex-row flex-wrap gap-3 items-center justify-center p-3 bg-neutral-100 dark:bg-neutral-800 rounded-xl"
            >
                <div class="bg-white rounded-lg p-4 flex-col flex">
                    <div class="text-5xl">
                        10<sup class="text-3xl">+</sup>
                    </div>
                    <div
                        class="text-base font-medium leading-tight text-center"
                    >
                        years
                    </div>
                </div>

                <ExperienceSquare
                    icon="building"
                    elements={[
                        { name: 'Startups' },
                        { name: 'Public Companies' },
                    ]}
                    }>Large and Small Orgs</ExperienceSquare
                >
                <ExperienceSquare
                    icon="industries"
                    elements={[
                        { name: 'FinTech' },
                        { name: 'EdTech' },
                        { name: 'Aerospace' },
                    ]}>Multiple Industries</ExperienceSquare
                >
                <ExperienceSquare
                    icon="senior-position"
                    elements={[
                        { name: 'Director of Product' },
                        { name: 'Sr. Director of Engineering' },
                        { name: 'Architect' },
                    ]}>Director<sup>+</sup> Positions</ExperienceSquare
                >
            </div>
        </div>

        <div id="background-details" class="flex flex-row gap-3 items-center">
        </div>
    </div>
</div>

<script>
    const squares = document.querySelectorAll('[data-kind=experience-square]')

    squares.forEach((sq) => {
        sq.addEventListener('click', (evt) => {
            evt.preventDefault()
            const template = sq.querySelector('[data-kind=experience-detail]')
            if (!(template instanceof HTMLTemplateElement)) return
            const clone = template.content.cloneNode(true)
            document.getElementById('background-details')?.appendChild(clone)
        })
    })
</script>
