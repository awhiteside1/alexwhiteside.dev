---
import { Hashnode } from '../../hashnode'

export const prerender = false

const { slug } = Astro.params
const post = await Hashnode.getPost(slug)

if (!post) return Astro.redirect('/404')

import BackToPrevious from '@ui/astro/components/navigation/BackToPrevious.astro'
import Layout from '@ui/astro/layouts/Layout.astro'
import Container from '../../ui/astro/components/global/Container.astro'
import BlogHero from '@ui/astro/layouts/BlogHero.astro'
import { chain } from '@hashnode/markdown'

const html = chain.process(post.content.markdown)


---

<Layout title={post.title} description={post.brief}>
    <Container>
        <div class="relative animate mb-8">
           
            <BlogHero
                title={post.title}
                date={post.publishedAt}
                coverImage={post.coverImage!.url}
            /> 
            <div class="absolute top-6 left-6 hidden md:block">
                <BackToPrevious href="/blog">Back to blog</BackToPrevious>
            </div>
        </div>
        <article class="animate">
            <Fragment set:html={html} />
        </article>
    </Container>
</Layout>
